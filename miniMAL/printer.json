["do",

["def", "pr-str", ["fn", ["exp", "print_readably"],
  ["if", ["list?", "exp"],
    ["str",
      ["`", "("],
      [".", ["map", ["fn", ["x"], ["pr-str", "x", "print_readably"]], "exp"],
            ["`", "join"], ["`", " "]],
      ["`", ")"]],
  ["if", ["=", ["`", "string"], ["type", "exp"]],
    ["str", ["`", "\""], "exp", ["`", "\""]], 
  ["if", ["=", ["`", "number"], ["type", "exp"]],
    "exp", 
  ["if", ["=", null, "exp"],
    ["`", "nil"],
  ["if", ["=", true, "exp"],
    ["`", "true"],
  ["if", ["=", false, "exp"],
    ["`", "false"],
  ["if", ["=", ["`", "Symbol"], ["get", "exp", ["`", "type"]]],
    ["get", "exp", ["`", "val"]],
  ["str", ["`", "#<unknown: "], "exp", ["`", ">"]]]]]]]]]]],

null
]
